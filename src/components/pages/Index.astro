---
import Link from "@components/Link.astro";
import ArrowRight from "@icons/ArrowRight.astro";
import Layout from "@layouts/Layout.astro";
import { getI18n } from "@i18n/index";
import { getLangFromUrl, useTranslatedPath } from '@i18n/utils';

const { currentLocale } = Astro;
const i18n = getI18n({ currentLocale });

const lang = getLangFromUrl(Astro.url);
const translatedPath = useTranslatedPath(lang);
---

<Layout title={i18n.INDEX.PAGE_TITLE} description={i18n.INDEX.META_DESCRIPTION}>
    <section>
        <div>
            <h1>
                <span class="blue-text intro-welcome">{i18n.INDEX.INTRO.WELCOME}</span>
                <span class="text-swipe-animation">Ivan.</span>
            </h1>

            <h2 class="intro">
                {i18n.INDEX.INTRO.INTRO}
            </h2>
        </div>

        <p>
            {i18n.INDEX.DESCRIPTION[0]}
            <span class="blue-text" translate="no">React</span>
            {i18n.INDEX.DESCRIPTION[1]}
            <span class="blue-text" translate="no">Astro</span>,
            {i18n.INDEX.DESCRIPTION[2]}
        </p>

        <Link href={translatedPath('/projects/')} button color="blue">
            {i18n.INDEX.BUTTON_CONTENT} <ArrowRight type="line" size="sm" />
        </Link>
    </section>
</Layout>

<style>
    section {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        width: 80%;
        margin-bottom: 5rem;

        @media (max-width: 868px) {
            width: 100%;
        }
    }

    .intro-welcome {
        font-size: 1rem;
        font-weight: 400;
    }

    .intro {
        font-size: 2.25rem;
        color: var(--text);

        @media (max-width: 870px) {
            font-size: 1.6rem;
        }
    }

    h1 {
        font-size: 3.75rem;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;

        @media (max-width: 870px) {
            font-size: 3rem;
        }
    }
</style>
